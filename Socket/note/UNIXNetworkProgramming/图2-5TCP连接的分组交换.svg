<svg xmlns:xlink="http://www.w3.org/1999/xlink" height="804" viewBox="0 0 1132 804" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" width="1132"><style type="text/css"><![CDATA[
.st4 {fill:#1f6391;font-family:宋体;font-size:10pt}
.st2 {fill:#1f6391;font-family:宋体;font-size:14pt}
.st3 {fill:#ff0000;font-family:宋体;font-size:10pt}
.st5 {fill:#ffffff;font-family:宋体;font-size:10pt}
.st1 {fill:#ffffff;font-family:宋体;font-size:20pt}
]]></style><defs/><g id="page1" transform="translate(5,5)"><rect height="794" stroke="#808080" y="0" width="1123" fill="#ffffff" x="0"/><g><g><path stroke="#527294" d="M0,0L1122.5,0L1082.5,40.8L39.1,40.8L0,0z" id="shape1" fill="#527294"/><g id="shape2" transform="translate(291.86,0)"><path stroke="#3498db" d="M0,0L538.8,0L478.1,56.7L60.7,56.7L0,0z" fill="#3498db"/><text class="st1"><tspan y="36.8" x="146.4">TCP连接的分组交换</tspan></text></g></g><g transform="translate(0,765.35)"><path stroke="#527294" d="M38.2,0L1084.4,0L1122.5,17L0,17L38.2,0z" id="shape3" fill="#527294" transform="translate(0,11.34)"/></g></g><g transform="translate(185.54,91.25)"><g id="shape4" transform="translate(154.62,-0)"><text class="st2"><tspan y="22.9" x="22.5">客户</tspan></text></g><g id="shape5" transform="translate(500.05,0)"><text class="st2"><tspan y="22.9" x="13.5">服务器</tspan></text></g><g transform="translate(197.88,30.19)"><path stroke="#236ea1" d="M0,0L581,0" stroke-width="2.66667" id="shape6" fill="none" transform="matrix(0,1,-1,0,0.5,0)"/><path stroke="#236ea1" d="M0,0L573.7,0" stroke-width="2.66667" id="shape7" fill="none" transform="matrix(0,1,-1,0,348.3,4.5)"/><g id="shape8" transform="matrix(1,0.09,-0.09,1,0,18.9)"><path stroke="#ff0000" d="M0,0L344.9,0" stroke-width="1.33333" fill="none"/><path stroke="#ff0000" d="M350,0L344,-3.5C344.5,-2.4,344.9,-1.3,344.9,0C344.9,1.3,344.5,2.4,344,3.5L350,0" stroke-width="1" stroke-linecap="round" fill="#ff0000"/></g><g id="shape9" transform="matrix(-1,0.09,-0.09,-1,348.4,65.1)"><path stroke="#118972" d="M0,0L342.3,0" stroke-width="1.33333" fill="none"/><path stroke="#118972" d="M347.4,0L341.4,-3.5C342,-2.4,342.3,-1.3,342.3,0C342.3,1.3,342,2.4,341.4,3.5L347.4,0" stroke-width="1" stroke-linecap="round" fill="#118972"/></g><g id="shape10" transform="matrix(1,0.09,-0.09,1,1.6,109.3)"><path stroke="#ff0000" d="M0,0L340.7,0" stroke-width="1.33333" fill="none"/><path stroke="#ff0000" d="M345.8,0L339.8,-3.5C340.4,-2.4,340.7,-1.3,340.7,0C340.7,1.3,340.4,2.4,339.8,3.5L345.8,0" stroke-width="1" stroke-linecap="round" fill="#ff0000"/></g><g id="shape11" transform="matrix(0.99,0.1,-0.1,0.99,0.8,170.7)"><path stroke="#c00000" d="M0,0L342.3,0" stroke-width="2.66667" fill="none"/><path stroke="#c00000" d="M349.5,0L341,-4.9C341.9,-3.5,342.3,-1.8,342.3,0C342.3,1.8,341.9,3.5,341,4.9L349.5,0" stroke-width="1" stroke-linecap="round" fill="#c00000"/></g><g id="shape12" transform="matrix(-0.99,0.11,-0.11,-0.99,346.8,246.5)"><path stroke="#118972" d="M0,0L341.8,0" stroke-width="2.66667" fill="none"/><path stroke="#118972" d="M349,0L340.5,-4.9C341.3,-3.5,341.8,-1.8,341.8,0C341.8,1.8,341.3,3.5,340.5,4.9L349,0" stroke-width="1" stroke-linecap="round" fill="#118972"/></g><g id="shape13" transform="matrix(1,0.09,-0.09,1,0.4,305.5)"><path stroke="#ff0000" d="M0,0L340.7,0" stroke-width="1.33333" fill="none"/><path stroke="#ff0000" d="M345.8,0L339.8,-3.5C340.4,-2.4,340.7,-1.3,340.7,0C340.7,1.3,340.4,2.4,339.8,3.5L345.8,0" stroke-width="1" stroke-linecap="round" fill="#ff0000"/></g><g id="shape14" transform="matrix(1,0.09,-0.09,1,0.8,368.9)"><path stroke="#ff0000" d="M0,0L340.7,0" stroke-width="1.33333" fill="none"/><path stroke="#ff0000" d="M345.8,0L339.8,-3.5C340.4,-2.4,340.7,-1.3,340.7,0C340.7,1.3,340.4,2.4,339.8,3.5L345.8,0" stroke-width="1" stroke-linecap="round" fill="#ff0000"/></g><g id="shape15" transform="matrix(-1,0.09,-0.09,-1,349.6,414)"><path stroke="#118972" d="M0,0L342.3,0" stroke-width="1.33333" fill="none"/><path stroke="#118972" d="M347.4,0L341.4,-3.5C342,-2.4,342.3,-1.3,342.3,0C342.3,1.3,342,2.4,341.4,3.5L347.4,0" stroke-width="1" stroke-linecap="round" fill="#118972"/></g><g id="shape16" transform="matrix(-1,0.09,-0.09,-1,346.9,471.5)"><path stroke="#118972" d="M0,0L342.3,0" stroke-width="1.33333" fill="none"/><path stroke="#118972" d="M347.4,0L341.4,-3.5C342,-2.4,342.3,-1.3,342.3,0C342.3,1.3,342,2.4,341.4,3.5L347.4,0" stroke-width="1" stroke-linecap="round" fill="#118972"/></g><g id="shape17" transform="matrix(1,0.09,-0.09,1,1.6,525.8)"><path stroke="#ff0000" d="M0,0L340.7,0" stroke-width="1.33333" fill="none"/><path stroke="#ff0000" d="M345.8,0L339.8,-3.5C340.4,-2.4,340.7,-1.3,340.7,0C340.7,1.3,340.4,2.4,339.8,3.5L345.8,0" stroke-width="1" stroke-linecap="round" fill="#ff0000"/></g></g><g id="shape18" transform="translate(22.35,18.19)"><text class="st3"><tspan y="15" x="126.1">socket</tspan><tspan y="30" x="81.1">connect(阻塞)</tspan></text></g><g id="shape19" transform="translate(547.94,30.19)"><text class="st4"><tspan y="15" x="4.3">socket,bind,listen</tspan></text></g><g id="shape20" transform="translate(547.66,75.32)"><text class="st4"><tspan y="15.2" x="11.5">SYN_RCVD</tspan></text></g><g id="shape21" transform="translate(85.83,139.71)"><text class="st4"><tspan y="11.8" x="11.3">connect返回</tspan></text></g><g id="shape22" transform="translate(553.2,176.3)"><text class="st4"><tspan y="11.4" x="11.2">accept返回</tspan><tspan y="26.4" x="12.2">read(阻塞)</tspan></text></g><g transform="translate(52.41,124.88)"><path stroke="#3498db" d="M6.7,13.4L126.4,13.4C130.1,13.4,133.1,10.4,133.1,6.7C133.1,3,130.1,0,126.4,0L6.7,0C3,0,0,3,0,6.7C0,10.4,3,13.4,6.7,13.4z" id="shape23" fill="#1d953f"/><text class="st5"><tspan y="10.2" x="17">ESTABLISHED</tspan></text></g><g transform="translate(553.2,161.23)"><path stroke="#3498db" d="M6.7,13.4L126.4,13.4C130.1,13.4,133.1,10.4,133.1,6.7C133.1,3,130.1,0,126.4,0L6.7,0C3,0,0,3,0,6.7C0,10.4,3,13.4,6.7,13.4z" id="shape24" fill="#1d953f"/><text class="st5"><tspan y="10.2" x="17">ESTABLISHED</tspan></text></g><g id="shape25" transform="translate(547.11,60.69)"><text class="st4"><tspan y="12.8" x="12.3">accept(阻塞)</tspan></text></g><g transform="translate(547.94,48.74)"><path stroke="#3498db" d="M7.9,15.8L72,15.8C76.4,15.8,79.9,12.3,79.9,7.9C79.9,3.5,76.4,0,72,0L7.9,0C3.5,0,0,3.5,0,7.9C0,12.3,3.5,15.8,7.9,15.8z" id="shape26" fill="#007947"/><text class="st5"><tspan y="11.4" x="13.5">LISTEN</tspan></text></g><g id="shape27" transform="translate(622.97,49.81)"><text class="st4"><tspan y="10.3" x="10.3">(被动打开)</tspan></text></g><g transform="translate(90.61,51.91)"><path stroke="#3498db" d="M7.3,14.6L97.5,14.6C101.6,14.6,104.9,11.4,104.9,7.3C104.9,3.3,101.6,0,97.5,0L7.3,0C3.3,0,0,3.3,0,7.3C0,11.4,3.3,14.6,7.3,14.6z" id="shape28" fill="#bed742"/><text class="st5"><tspan y="10.8" x="15.4">SYN_SENT</tspan></text></g><g id="shape29" transform="translate(6.24,50.2)"><text class="st4"><tspan y="12.5" x="9.5">(主动打开)</tspan></text></g><g id="shape30" transform="translate(45.86,176.3)"><text class="st3"><tspan y="15" x="42.1">&lt;客户构造请求></tspan><tspan y="30" x="108.1">write</tspan><tspan y="45" x="76.1">read(阻塞)</tspan></text></g><g id="shape31" transform="translate(550.52,219.71)"><text class="st4"><tspan y="15" x="4.2">read(返回)</tspan><tspan y="30" x="4.2">&lt;服务器处理请求></tspan></text></g><g id="shape32" transform="translate(547.27,263.13)"><text class="st4"><tspan y="15" x="4.1">write</tspan><tspan y="30" x="4.1">read(阻塞)</tspan></text></g><g id="shape33" transform="translate(103.45,318.25)"><text class="st3"><tspan y="11.3" x="11.3">read(返回)</tspan></text></g><g transform="translate(78.34,395.81)"><path stroke="#3498db" d="M7.9,15.8L105.8,15.8C110.2,15.8,113.7,12.3,113.7,7.9C113.7,3.5,110.2,0,105.8,0L7.9,0C3.5,0,0,3.5,0,7.9C0,12.3,3.5,15.8,7.9,15.8z" id="shape34" fill="#f08300"/><text class="st5"><tspan y="11.4" x="15.4">FIN_WAIT_1</tspan></text></g><g id="shape35" transform="translate(138.89,376.79)"><text class="st4"><tspan y="12.5" x="10.1">close</tspan></text></g><g id="shape36" transform="translate(0,393.59)"><text class="st4"><tspan y="12.5" x="9.5">(主动关闭)</tspan></text></g><g id="shape37" transform="translate(669.48,417.38)"><text class="st4"><tspan y="14" x="9.5">(被动关闭)</tspan></text></g><g id="shape38" transform="translate(555.02,435.81)"><text class="st4"><tspan y="13.7" x="9.3">read返回0</tspan></text></g><g transform="translate(550.52,422.15)"><path stroke="#3498db" d="M7.4,14.9L113.5,14.9C117.6,14.9,120.9,11.5,120.9,7.4C120.9,3.3,117.6,0,113.5,0L7.4,0C3.3,0,0,3.3,0,7.4C0,11.5,3.3,14.9,7.4,14.9z" id="shape39" fill="#3498db"/><text class="st5"><tspan y="10.9" x="15.5">CLOSE_WAIT</tspan></text></g><g transform="translate(78.34,464.86)"><path stroke="#3498db" d="M8.4,16.8L105.5,16.8C110.1,16.8,113.9,13,113.9,8.4C113.9,3.8,110.1,0,105.5,0L8.4,0C3.8,0,0,3.8,0,8.4C0,13,3.8,16.8,8.4,16.8z" id="shape40" fill="#813f84"/><text class="st5"><tspan y="11.9" x="15.5">FIN_WAIT_2</tspan></text></g><g transform="translate(78.34,534.88)"><path stroke="#3498db" d="M7.4,14.9L104.1,14.9C108.2,14.9,111.5,11.5,111.5,7.4C111.5,3.3,108.2,0,104.1,0L7.4,0C3.3,0,0,3.3,0,7.4C0,11.5,3.3,14.9,7.4,14.9z" id="shape41" fill="#30c9f7"/><text class="st5"><tspan y="10.9" x="16.2">TIME_WAIT</tspan></text></g><g id="shape42" transform="translate(550.52,488.49)"><text class="st4"><tspan y="12.5" x="7.4">close</tspan></text></g><g transform="translate(550.52,503.91)"><path stroke="#3498db" d="M9.4,18.7L91.6,18.7C96.8,18.7,101,14.5,101,9.4C101,4.2,96.8,0,91.6,0L9.4,0C4.2,0,0,4.2,0,9.4C0,14.5,4.2,18.7,9.4,18.7z" id="shape43" fill="#000000"/><text class="st5"><tspan y="12.9" x="14.5">LAST_ACK</tspan></text></g><g transform="translate(550.52,580.49)"><path stroke="#3498db" d="M6.9,13.9L66.4,13.9C70.2,13.9,73.3,10.8,73.3,6.9C73.3,3.1,70.2,0,66.4,0L6.9,0C3.1,0,0,3.1,0,6.9C0,10.8,3.1,13.9,6.9,13.9z" id="shape44" fill="#3498db"/><text class="st5"><tspan y="10.4" x="13.1">CLOSE</tspan></text></g><g id="shape45" transform="matrix(0.99,0.12,-0.12,0.99,309,43.6)"><text class="st3"><tspan y="10.9" x="14">SYN J, MMS=536</tspan></text></g><g id="shape46" transform="matrix(1,-0.1,0.1,1,257.7,106.4)"><text class="st4"><tspan y="11.6" x="21.2">SYN K,ACK J+1,MMS=1460</tspan></text></g><g id="shape47" transform="matrix(0.99,0.11,-0.11,0.99,329.6,135.5)"><text class="st3"><tspan y="12.4" x="9.3">ACK K+1</tspan></text></g><g id="shape48" transform="matrix(0.99,0.12,-0.12,0.99,328.9,198.6)"><text class="st3"><tspan y="10.5" x="10.1">数据(请求)</tspan></text></g><g id="shape49" transform="matrix(0.99,-0.11,0.11,0.99,332.7,282.8)"><text class="st4"><tspan y="12.2" x="9.3">数据应答</tspan></text></g><g id="shape50" transform="matrix(0.99,-0.14,0.14,0.99,329.4,304.2)"><text class="st4"><tspan y="10.3" x="10.2">请求ACK</tspan></text></g><g id="shape51" transform="matrix(0.99,0.1,-0.1,0.99,343.5,349)"><text class="st3"><tspan y="10.2" x="9">应答ACK</tspan></text></g><g id="shape52" transform="matrix(0.99,0.11,-0.11,0.99,343.5,397.4)"><text class="st3"><tspan y="10.7" x="9.2">FIN M</tspan></text></g><g id="shape53" transform="matrix(1,-0.09,0.09,1,322.8,449.8)"><text class="st4"><tspan y="11.7" x="10.4">ACK M+1</tspan></text></g><g id="shape54" transform="matrix(0.99,-0.12,0.12,0.99,343.1,504.4)"><text class="st4"><tspan y="11.7" x="8.3">FIN N</tspan></text></g><g id="shape55" transform="matrix(0.99,0.12,-0.12,0.99,335.8,553.5)"><text class="st4"><tspan y="10.3" x="9.1">ACK N+1</tspan></text></g></g></g></svg>