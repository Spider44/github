<svg xmlns:xlink="http://www.w3.org/1999/xlink" height="804" viewBox="0 0 1132 804" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" width="1132"><style type="text/css"><![CDATA[
.st4 {fill:#118972;font-family:宋体;font-size:12pt}
.st5 {fill:#118972;font-family:宋体;font-size:14pt}
.st3 {fill:#1f6391;font-family:宋体;font-size:12pt}
.st2 {fill:#1f6391;font-family:宋体;font-size:14pt}
.st1 {fill:#ffffff;font-family:宋体;font-size:20pt}
]]></style><defs/><g id="page1" transform="translate(5,5)"><rect height="794" stroke="#808080" y="0" width="1123" fill="#ffffff" x="0"/><g><g><path stroke="#527294" d="M0,0L1122.5,0L1082.5,40.8L39.1,40.8L0,0z" id="shape1" fill="#527294"/><g id="shape2" transform="translate(291.86,0)"><path stroke="#3498db" d="M0,0L538.8,0L478.1,56.7L60.7,56.7L0,0z" fill="#3498db"/><text class="st1"><tspan y="36.8" x="96.4">SCTP关联关闭时的分组交换</tspan></text></g></g><g transform="translate(0,765.35)"><path stroke="#527294" d="M38.2,0L1084.4,0L1122.5,17L0,17L38.2,0z" id="shape3" fill="#527294" transform="translate(0,11.34)"/></g></g><g transform="translate(273.76,135.85)"><path stroke="#236ea1" d="M0,0L285,0" stroke-width="2.66667" id="shape4" fill="none" transform="matrix(0,1,-1,0,100,31)"/><path stroke="#236ea1" d="M0,0L285,0" stroke-width="2.66667" id="shape5" fill="none" transform="matrix(0,1,-1,0,406,35)"/><g id="shape6" transform="matrix(0.98,0.22,-0.22,0.98,103,57)"><path stroke="#236ea1" d="M0,0L302.2,0" fill="none"/><path stroke="#236ea1" d="M306.6,0L301.4,-3C302,-2.1,302.2,-1.1,302.2,0C302.2,1.1,302,2.1,301.4,3L306.6,0" stroke-width="1" stroke-linecap="round" fill="#236ea1"/></g><g id="shape7" transform="matrix(-0.98,0.18,-0.18,-0.98,407,166)"><path stroke="#236ea1" d="M0,0L306.7,0" fill="none"/><path stroke="#236ea1" d="M311.1,0L305.9,-3C306.4,-2.1,306.7,-1.1,306.7,0C306.7,1.1,306.4,2.1,305.9,3L311.1,0" stroke-width="1" stroke-linecap="round" fill="#236ea1"/></g><g id="shape8" transform="matrix(0.98,0.19,-0.19,0.98,100,243)"><path stroke="#236ea1" d="M0,0L303.3,0" fill="none"/><path stroke="#236ea1" d="M307.7,0L302.5,-3C303,-2.1,303.3,-1.1,303.3,0C303.3,1.1,303,2.1,302.5,3L307.7,0" stroke-width="1" stroke-linecap="round" fill="#236ea1"/></g><g id="shape9" transform="translate(52,0)"><text class="st2"><tspan y="21.5" x="28">客户</tspan></text></g><g id="shape10" transform="translate(360.5,0)"><text class="st2"><tspan y="21.5" x="18">服务器</tspan></text></g><g id="shape11" transform="translate(0,28)"><text class="st3"><tspan y="21.5" x="28">close</tspan><tspan y="40.5" x="10">(主动关闭)</tspan></text></g><g id="shape12" transform="translate(410,89)"><text class="st4"><tspan y="24" x="12">(被动关闭)</tspan><tspan y="43" x="8">read 返回0</tspan></text></g><g id="shape13" transform="translate(410,157)"><text class="st3"><tspan y="20" x="12">close</tspan></text></g><g id="shape14" transform="matrix(0.97,0.22,-0.22,0.97,205.6,53.7)"><text class="st3"><tspan y="18" x="7.5">SHUTDOWN</tspan></text></g><g id="shape15" transform="matrix(0.98,-0.17,0.17,0.98,179.5,184.2)"><text class="st3"><tspan y="18" x="8.1">SHUTDOWN ACK</tspan></text></g><g id="shape16" transform="matrix(0.98,0.2,-0.2,0.98,165.5,232.4)"><text class="st3"><tspan y="18" x="7.4">SHUTDOWN COMPLETE</tspan></text></g></g><g id="shape17" transform="translate(60.76,519.85)"><text class="st5"><tspan y="21" x="4">SCTP不像TCP那样允许"半关闭“的关联。另一端关闭某个关联时，另一端必须停止发送新的数据。关联关闭请求的接</tspan><tspan y="43" x="4">受端发送完已经排队的数据后，完成关联的关闭。</tspan><tspan y="65" x="4">SCTP没有类似于TCP的TIME_WAIT状态，因为SCTP使用了验证标记。所有后续块都在捆绑它们的SCTP分组的公</tspan><tspan y="87" x="4">共首部标记了初始化的INIT块和INIT ACK块中作为起始标记交换的验证标记，由来自旧连接的块通过所在SCTP分组</tspan><tspan y="109" x="4">的公共首部间接携带的验证标记对于新连接来说是不正确的。因此，SCTP通过放置验证标记值就避免了TCP在</tspan><tspan y="131" x="4">TIME_WAIT状态保持整个连接的做法。</tspan></text></g></g></svg>