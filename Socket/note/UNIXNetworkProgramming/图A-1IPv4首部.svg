<svg height="804" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns="http://www.w3.org/2000/svg" width="1132" viewBox="0 0 1132 804" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css"><![CDATA[
.st3 {fill:#0070c0;font-family:宋体;font-size:14pt}
.st22 {fill:#0070c0}
.st6 {fill:#00b050;font-family:宋体;font-size:14pt}
.st20 {fill:#00b050}
.st19 {fill:#00b0f0}
.st15 {fill:#14335a;font-family:宋体;font-size:14pt}
.st14 {fill:#191919;font-family:宋体;font-size:14pt}
.st23 {fill:#191919}
.st26 {fill:#303030;font-family:宋体;font-size:12pt}
.st2 {fill:#303030;font-family:宋体;font-size:14pt}
.st10 {fill:#357d91;font-family:宋体;font-size:14pt}
.st12 {fill:#385d8a;font-family:宋体;font-size:14pt}
.st25 {fill:#4197ae}
.st5 {fill:#5c4776;font-family:宋体;font-size:14pt}
.st18 {fill:#7f8aa3}
.st16 {fill:#88a44d}
.st13 {fill:#cccfd7;font-family:宋体;font-size:14pt}
.st17 {fill:#da833d}
.st7 {fill:#dee7d1;font-family:宋体;font-size:14pt}
.st8 {fill:#f4e9e9;font-family:宋体;font-size:14pt}
.st9 {fill:#f9b289;font-family:宋体;font-size:14pt}
.st1 {fill:#ff0000;font-family:宋体;font-size:14pt}
.st24 {fill:#ff0000}
.st21 {fill:#ffc000}
.st4 {fill:#ffff00;font-family:宋体;font-size:14pt}
.st11 {fill:#ffffff;font-family:宋体;font-size:14pt}
]]></style><defs><linearGradient x2="0%" y1="0%" id="lg1" y2="100%" x1="0%"><stop stop-color="#fbfbfb" offset="0"/><stop stop-color="#efefef" offset="1"/></linearGradient></defs><g transform="translate(5,5)" id="page1"><rect height="794" stroke="#808080" x="0" y="0" fill="#ffffff" width="1123"/><g transform="translate(87.72,58.79)" id="shape1"><path fill-opacity="0.08" d="M2,2L85,2L85,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L83,0L83,35.3L0,35.3L0,0z" fill="#7f8aa3"/><text class="st1"><tspan x="23" y="12.6">版本</tspan><tspan x="28" y="34.6">(4)</tspan></text></g><g transform="translate(170.75,58.79)" id="shape2"><path fill-opacity="0.08" d="M2,2L125.8,2L125.8,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L123.8,0L123.8,35.3L0,35.3L0,0z" fill="#b5cb90"/><text class="st2"><tspan x="24.4" y="23.6">首部长度</tspan></text></g><g transform="translate(292.17,58.79)" id="shape3"><path fill-opacity="0.08" d="M2,2L146.9,2L146.9,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L144.9,0L144.9,35.3L0,35.3L0,0z" fill="#dcb3b2"/><text class="st3"><tspan x="44.5" y="23.6">DSCP</tspan></text></g><g transform="translate(434.73,58.79)" id="shape4"><path fill-opacity="0.08" d="M2,2L74.8,2L74.8,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L72.8,0L72.8,35.3L0,35.3L0,0z" fill="#71893f"/><text class="st4"><tspan x="13.4" y="23.6">ECN</tspan></text></g><g transform="translate(505.23,58.79)" id="shape5"><path fill-opacity="0.08" d="M2,2L424.2,2L424.2,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L422.2,0L422.2,35.3L0,35.3L0,0z" fill="#b1d2df"/><text class="st5"><tspan x="137.1" y="23.6">总长度(字节单位)</tspan></text></g><g transform="translate(87.72,94.08)" id="shape6"><path fill-opacity="0.08" d="M2,2L418.7,2L418.7,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L416.7,0L416.7,35.3L0,35.3L0,0z" fill="#d8d3e0"/><text class="st6"><tspan x="189.4" y="23.6">标识</tspan></text></g><g transform="translate(505.23,94.08)" id="shape7"><path fill-opacity="0.08" d="M2,2L24.7,2L24.7,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L22.7,0L22.7,35.3L0,35.3L0,0z" fill="#cbdab5"/><text class="st2"><tspan x="5.4" y="23.6">0</tspan></text></g><g transform="translate(527.55,94.08)" id="shape8"><path fill-opacity="0.08" d="M2,2L24.7,2L24.7,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L22.7,0L22.7,35.3L0,35.3L0,0z" fill="#b66d31"/><text class="st7"><tspan x="3.7" y="12.6">D</tspan><tspan x="4.7" y="34.6">F</tspan></text></g><g transform="translate(549.88,94.08)" id="shape9"><path fill-opacity="0.08" d="M2,2L24.7,2L24.7,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L22.7,0L22.7,35.3L0,35.3L0,0z" fill="#385d8a"/><text class="st8"><tspan x="1.6" y="12.6">M</tspan><tspan x="4.6" y="34.6">F</tspan></text></g><g transform="translate(571.81,94.08)" id="shape10"><path fill-opacity="0.08" d="M2,2L357.6,2L357.6,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L355.6,0L355.6,35.3L0,35.3L0,0z" fill="#4197ae"/><text class="st9"><tspan x="140.3" y="23.6">片段偏移</tspan></text></g><g transform="translate(506.01,128.98)" id="shape11"><path fill-opacity="0.08" d="M2,2L423.4,2L423.4,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L421.4,0L421.4,35.3L0,35.3L0,0z" fill="#b5cb90"/><text class="st10"><tspan x="163.2" y="23.6">首部校验和</tspan></text></g><g transform="translate(87.72,164.27)" id="shape12"><path fill-opacity="0.08" d="M2,2L841.7,2L841.7,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L839.7,0L839.7,35.3L0,35.3L0,0z" fill="#385d8a"/><text class="st11"><tspan x="348.4" y="23.6">32位源IPv4地址</tspan></text></g><g transform="translate(87.72,199.57)" id="shape13"><path fill-opacity="0.08" d="M2,2L841.7,2L841.7,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L839.7,0L839.7,35.3L0,35.3L0,0z" fill="#b2b2b2"/><text class="st6"><tspan x="338.4" y="23.6">32位目的IPv4地址</tspan></text></g><g transform="translate(296.08,128.98)" id="shape14"><path fill-opacity="0.08" d="M2,2L211.9,2L211.9,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L209.9,0L209.9,35.3L0,35.3L0,0z" fill="#cccfd7"/><text class="st12"><tspan x="86.5" y="23.6">协议</tspan></text></g><g transform="translate(87.72,128.98)" id="shape15"><path fill-opacity="0.08" d="M2,2L210.4,2L210.4,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L208.4,0L208.4,35.3L0,35.3L0,0z" fill="#303030"/><text class="st13"><tspan x="39.2" y="23.6">存活时间(TTL)</tspan></text></g><g transform="translate(87.72,234.86)" id="shape16"><path fill-opacity="0.08" d="M2,2L841.7,2L841.7,37.3L2,37.3L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L839.7,0L839.7,35.3L0,35.3L0,0z" fill="#fcddcf"/><text class="st10"><tspan x="346.4" y="23.6">选项(如果有的话)</tspan></text></g><g transform="translate(87.72,270.03)" id="shape17"><path fill-opacity="0.08" d="M2,2L841.7,2L841.7,98.9L2,98.9L2,2z" fill="#000000"/><path stroke="#6d6d6d" d="M0,0L839.7,0L839.7,96.9L0,96.9L0,0z" fill="url(#lg1)"/><text class="st14"><tspan x="401.4" y="54.4">数据</tspan></text></g><path stroke="#6d6d6d" transform="translate(952.32,59.07)" stroke-width="2.66667" d="M0,0L52,0" id="shape18" fill="none"/><path stroke="#6d6d6d" transform="translate(954.32,235.93)" stroke-width="2.66667" d="M0,0L52,0" id="shape19" fill="none"/><g transform="matrix(0,-1,1,0,976.3,136.6)" id="shape20"><path stroke="#000000" stroke-width="2" d="M0,0L71.3,0" fill="none"/><path stroke="#000000" stroke-linecap="round" stroke-width="1" d="M77.6,0L70.2,-4.2C70.9,-3,71.3,-1.5,71.3,0C71.3,1.5,70.9,3,70.2,4.2L77.6,0" fill="#000000"/></g><g transform="matrix(0,-1,1,0,976.3,235.3)" id="shape21"><path stroke="#000000" stroke-width="2" d="M6.2,0L75.5,0" fill="none"/><path stroke="#000000" stroke-linecap="round" stroke-width="1" d="M0,0L7.3,4.2C6.6,3,6.2,1.5,6.2,0C6.2,-1.5,6.6,-3,7.3,-4.2L0,0" fill="#000000"/></g><g transform="translate(931.76,134.18)" id="shape22"><text class="st1"><tspan x="14" y="18.4">20字节</tspan></text></g><g transform="translate(76.76,346.85)" id="shape23"><text class="st15"><tspan class="st16" x="11" y="49">首部长度</tspan><tspan>(header length)字段是包括任何选项在内的整个IP首部的32为字长度，这个四位字段的最大取值是15,</tspan><tspan x="39" y="71">因而IP首部的最大长度为60个字节，扣除首部固定部分所占据的20个字节外，它最多允许40个字节的选项</tspan><tspan class="st17" x="7" y="93">8位服务类型</tspan><tspan>(type-of-service)字段被替换为两个部分：6位区分服务码点和两位拥塞通知可以使用IP_TOS套接字</tspan><tspan x="418" y="115">选项设置该字段</tspan><tspan class="st18" x="7" y="137">1</tspan><tspan class="st19">6位总长度字段</tspan><tspan>是包括IPv4首部在内的整个IP数据报的字节长度，数据报中的数据量就是本字段减掉4乘于首部长</tspan><tspan x="466" y="159">度，</tspan><tspan class="st20" x="6" y="181">16位标识(identification)字段</tspan><tspan>由IP模块为每个IP数据报设置成不同的值，如果分组不被分片，且设置了DF位，那</tspan><tspan x="409" y="203">么就不需要此字段</tspan><tspan class="st21" x="4" y="225">DF</tspan><tspan>(don't fragment)位表示不要分片，还用于路径MTU发现，</tspan><tspan class="st22">MF</tspan><tspan>位(more,fragments,还有分片)和13位片段偏</tspan><tspan x="275" y="247">移(fragments offset)表示字段用于分片和重组，</tspan><tspan class="st23" x="8" y="269">8位存活时间(time-to-live,TTL)</tspan><tspan>字段由IP的发送者设置，并由转发它的每个路由器递减，当减到0时相应路由器就</tspan><tspan x="18" y="291">就丢弃该数据报，任何IP数据报的生命周期限定为最多255跳，常用默认值为64,可以使用套接字选项IP_TTL和</tspan><tspan x="281" y="313">IP_MULTICAST_TTL来查询和修改这个默认值</tspan><tspan class="st24" x="8" y="335">8位协议(protocol)字段</tspan><tspan>指定包含在本数据报中的数据类型，它的典型值有1(ICMPv4)、2(IGMPv4)、6(TCP)、</tspan><tspan x="443" y="357">17(UDP)</tspan><tspan class="st25" x="209" y="379">16位首部校验和(</tspan><tspan>header checksum)字段只对IP首部进行计算，</tspan></text></g><g transform="translate(76.76,30.85)" id="shape24"><text class="st26"><tspan x="4" y="18.5">0 	3 4	         7 8 	                 13 14     15  16					       31</tspan></text></g></g></svg>